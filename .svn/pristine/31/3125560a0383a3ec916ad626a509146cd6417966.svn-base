package jpp.qrcode;

import java.util.Arrays;

public class main {
    public static void main(String[] args) {
        int[][] matrix = {
                {1,1,1,1,1,1,1,0,0,1,1,1,1,0,0,0,1,0,1,1,1,0,0,1,0,0,1,1,1,1,1,1,1},
                {1,0,0,0,0,0,1,0,1,1,0,0,1,0,0,0,1,1,0,0,1,0,1,1,1,0,1,0,0,0,0,0,1},
                {1,0,1,1,1,0,1,0,1,0,0,1,1,1,1,1,1,0,1,0,1,0,0,0,0,0,1,0,1,1,1,0,1},
                {1,0,1,1,1,0,1,0,0,0,1,0,1,0,1,0,1,0,1,1,0,0,1,0,1,0,1,0,1,1,1,0,1},
                {1,0,1,1,1,0,1,0,0,1,1,0,0,1,0,0,0,0,1,0,0,1,0,0,1,0,1,0,1,1,1,0,1},
                {1,0,0,0,0,0,1,0,0,1,1,0,0,0,1,1,1,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,1},
                {1,1,1,1,1,1,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,1,1,1,1,1,1},
                {0,0,0,0,0,0,0,0,0,1,1,0,0,1,1,0,1,1,1,1,0,0,1,0,1,0,0,0,0,0,0,0,0},
                {0,1,1,1,0,1,1,0,0,0,0,0,1,0,1,1,0,1,0,0,0,1,0,1,0,0,0,0,0,0,1,1,0},
                {1,1,0,0,1,0,0,1,1,1,0,1,1,1,0,1,1,1,1,1,1,0,1,1,0,0,1,1,0,1,1,0,1},
                {1,0,0,0,0,0,1,1,0,0,1,0,1,1,0,0,1,0,1,0,0,1,1,1,1,0,1,1,1,1,0,1,1},
                {1,0,1,1,0,1,0,1,1,0,1,1,1,1,1,0,1,1,0,1,1,0,0,1,0,1,1,1,0,1,0,0,0},
                {1,1,0,1,0,1,1,1,0,0,0,1,0,1,1,1,1,0,0,0,0,0,1,0,1,1,0,0,1,1,0,1,0},
                {1,1,0,1,0,1,0,1,0,1,1,1,1,0,1,1,0,1,0,0,1,0,0,0,0,0,0,1,0,0,0,1,0},
                {0,0,0,0,0,1,1,0,1,1,1,0,1,0,1,1,1,1,0,1,1,0,1,0,1,0,1,1,1,1,0,0,0},
                {0,0,0,1,0,1,0,1,0,1,1,0,1,0,0,1,0,0,1,1,1,1,0,0,0,1,1,0,0,1,1,0,0},
                {1,0,1,0,1,1,1,0,1,1,0,1,1,0,0,1,1,0,0,1,0,1,1,1,0,1,1,0,1,0,1,0,0},
                {0,0,0,1,0,1,0,0,0,0,1,1,0,1,0,1,0,1,1,0,1,1,0,1,1,0,1,0,1,1,0,0,1},
                {0,0,1,0,0,1,1,0,1,1,0,1,1,0,0,1,1,0,0,0,0,0,1,0,0,1,0,1,1,0,1,1,0},
                {0,0,0,1,1,0,0,0,1,1,0,0,1,1,1,1,0,0,0,1,0,0,1,1,1,1,0,0,1,0,0,1,0},
                {0,1,1,1,0,1,1,0,1,0,1,0,0,1,1,0,0,0,1,0,0,1,0,0,0,1,0,1,0,1,1,0,0},
                {1,0,0,0,0,1,0,0,1,0,1,1,0,0,0,1,1,0,0,1,0,1,0,1,0,0,1,0,0,0,1,0,1},
                {0,0,0,1,1,0,1,0,1,0,0,0,0,0,1,0,1,1,0,0,0,0,1,1,0,1,1,0,1,1,1,1,1},
                {0,1,0,0,1,0,0,0,0,1,1,0,1,1,0,0,1,1,1,1,1,0,0,0,1,0,1,0,1,1,0,0,1},
                {1,0,1,0,0,0,1,1,1,0,1,1,1,1,1,1,1,0,1,0,0,0,1,0,1,1,1,1,1,1,0,0,1},
                {0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,1,1,0,1,1,1,0,1,1,1,0,0,0,1,1,0,1,0},
                {1,1,1,1,1,1,1,0,0,0,1,1,0,1,1,1,0,0,1,1,0,0,0,1,1,0,1,0,1,0,0,0,0},
                {1,0,0,0,0,0,1,0,1,1,0,0,1,1,0,1,1,1,0,1,0,1,0,1,1,0,0,0,1,1,1,1,0},
                {1,0,1,1,1,0,1,0,0,1,1,1,0,1,0,0,1,1,0,0,1,1,1,1,1,1,1,1,1,0,1,1,0},
                {1,0,1,1,1,0,1,0,1,1,0,1,0,1,1,0,1,0,1,0,1,0,1,1,0,0,0,1,0,0,1,1,1},
                {1,0,1,1,1,0,1,0,1,1,0,0,1,0,1,0,1,1,1,0,0,0,0,1,1,1,1,1,0,0,0,0,0},
                {1,0,0,0,0,0,1,0,1,0,1,1,0,0,0,0,1,0,1,0,0,0,1,1,1,1,0,1,1,0,0,0,1},
                {1,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,0,1,0,0,1,1,1,1,0,1,1,0,1,0,1,0,0}};


//        boolean[][] data = Helper.integerArray2booleanArray(matrix);
//        Version version = QRCode.check_version_blocks(data);
//        if(version == null){
//            throw new InvalidQRCodeException("invalid version");
//        }
//        QRCode qrCode = QRCode.createValidatedFromBooleans(data);
//        System.out.println(qrCode);


        //Test_DataPositions
        ReservedModulesMask reservedModulesMask = ReservedModulesMask.forVersion(Version.fromNumber(1));
        boolean[][] testMask = new boolean[reservedModulesMask.size()][reservedModulesMask.size()];
        for (int i = 0; i < testMask.length; i++) {
            for (int j = 0; j < testMask.length; j++) {
                testMask[i][j] = reservedModulesMask.isReserved(i,j);
            }
        }

        String[][] testArray = Helper.booleanArray2integerArray(testMask);
        DataPositions dataPositions = new DataPositions(reservedModulesMask);
        int n = 1;
        for (int i = 0; i < reservedModulesMask.size(); i++) {
            for (int j = 0; j < reservedModulesMask.size(); j++) {
                if (dataPositions.next()){
//                    System.out.println("[i: " + dataPositions.i() + ",j: " + dataPositions.j() + "]");
                    testArray[dataPositions.i()][dataPositions.j()] = "[i: " + dataPositions.i() + ",j: " + dataPositions.j() + "]";
                }
            }
        }
        for (int i = 0; i < testArray.length; i++) {
            System.out.println(Arrays.toString(testArray[i]));
        }





    }
}
